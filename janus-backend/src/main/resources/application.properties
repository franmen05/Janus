# =============================================================================
# Janus Backend - Application Configuration
# =============================================================================

# --- HTTP Server ---
quarkus.http.port=8080

# --- CORS ---
quarkus.http.cors=true
quarkus.http.cors.origins=http://localhost:4200
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=Authorization,Content-Type,Accept
quarkus.http.cors.exposed-headers=Content-Disposition
quarkus.http.cors.access-control-allow-credentials=true

# --- Datasource (Dev - H2) ---
%dev.quarkus.datasource.db-kind=h2
%dev.quarkus.datasource.jdbc.url=jdbc:h2:mem:janusdb;DB_CLOSE_DELAY=-1
%dev.quarkus.datasource.username=sa
%dev.quarkus.datasource.password=

# --- Datasource (Test - H2) ---
%test.quarkus.datasource.db-kind=h2
%test.quarkus.datasource.jdbc.url=jdbc:h2:mem:janusdb_test;DB_CLOSE_DELAY=-1
%test.quarkus.datasource.username=sa
%test.quarkus.datasource.password=

# --- Datasource (Prod - PostgreSQL) ---
%prod.quarkus.datasource.db-kind=postgresql
%prod.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/janusdb
%prod.quarkus.datasource.username=${DB_USERNAME:janus}
%prod.quarkus.datasource.password=${DB_PASSWORD:janus}

# --- Hibernate ORM ---
quarkus.hibernate-orm.schema-management.strategy=drop-and-create
%prod.quarkus.hibernate-orm.schema-management.strategy=update
quarkus.hibernate-orm.log.sql=false
%dev.quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.sql-load-script=import.sql
%prod.quarkus.hibernate-orm.sql-load-script=no-file

# --- Security ---
quarkus.http.auth.basic=true

# --- File Storage ---
janus.storage.path=./storage
janus.storage.max-file-size=10485760

# --- Mailer (Dev - Mock) ---
%dev.quarkus.mailer.mock=true
%test.quarkus.mailer.mock=true
%prod.quarkus.mailer.from=noreply@janus.com
%prod.quarkus.mailer.host=${MAIL_HOST:smtp.gmail.com}
%prod.quarkus.mailer.port=${MAIL_PORT:587}
%prod.quarkus.mailer.start-tls=REQUIRED
%prod.quarkus.mailer.username=${MAIL_USERNAME}
%prod.quarkus.mailer.password=${MAIL_PASSWORD}

# --- Alerts ---
janus.alerts.inactivity-hours=48
janus.alerts.deadline-approaching-hours=24

# --- OpenAPI ---
quarkus.smallrye-openapi.info-title=Janus API
quarkus.smallrye-openapi.info-version=1.0.0
quarkus.smallrye-openapi.info-description=Janus Customs Management System API
